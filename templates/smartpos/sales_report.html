{% extends 'smartpos/base.html' %} {% block title %}Sales Report - SmartPOS{%
endblock %} {% block content %}
<div class="mb-4">
  <h1><i class="fas fa-file-alt"></i> Sales Report</h1>
</div>

<div class="row mb-4">
  <div class="col-md-3">
    <div
      style="
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-top: 4px solid #e74c3c;
      "
    >
      <div style="color: #7f8c8d; font-size: 0.9rem; text-transform: uppercase">
        Total Sales
      </div>
      <div
        style="
          font-size: 2rem;
          font-weight: 700;
          color: #2c3e50;
          margin: 10px 0;
        "
      >
        KES {{ total_sales|floatformat:2 }}
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div
      style="
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-top: 4px solid #e74c3c;
      "
    >
      <div style="color: #7f8c8d; font-size: 0.9rem; text-transform: uppercase">
        Transactions
      </div>
      <div
        style="
          font-size: 2rem;
          font-weight: 700;
          color: #2c3e50;
          margin: 10px 0;
        "
      >
        {{ total_transactions }}
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div
      style="
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-top: 4px solid #e74c3c;
      "
    >
      <div style="color: #7f8c8d; font-size: 0.9rem; text-transform: uppercase">
        Average
      </div>
      <div
        style="
          font-size: 2rem;
          font-weight: 700;
          color: #2c3e50;
          margin: 10px 0;
        "
      >
        KES {{ average_transaction|floatformat:2 }}
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div
      style="
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-top: 4px solid #e74c3c;
      "
    >
      <div style="color: #7f8c8d; font-size: 0.9rem; text-transform: uppercase">
        Profit
      </div>
      <div
        style="
          font-size: 2rem;
          font-weight: 700;
          color: #2c3e50;
          margin: 10px 0;
        "
      >
        KES {{ total_profit|floatformat:2 }}
      </div>
    </div>
  </div>
</div>

<div
  style="
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  "
>
  <table class="table table-hover" style="margin: 0">
    <thead>
      <tr>
        <th>Date & Time</th>
        <th>Cashier</th>
        <th>Amount</th>
        <th>Payment Method</th>
      </tr>
    </thead>
    <tbody>
      {% for sale in sales %}
      <tr>
        <td>{{ sale.created_at|date:"d M, H:i" }}</td>
        <td>{{ sale.cashier.username }}</td>
        <td style="color: #e74c3c; font-weight: 600">
          KES {{ sale.final_amount }}
        </td>
        <td>{{ sale.get_payment_method_display }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" style="text-align: center; padding: 30px; color: #999">
          No sales data for this period
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
